---
status: complete
phase: 08.1-categories-settings-ui-redesign
source: 08.1-05-SUMMARY.md, 08.1-06-SUMMARY.md, 08.1-07-SUMMARY.md, 08.1-08-SUMMARY.md
started: 2026-02-17T20:00:00Z
updated: 2026-02-17T20:30:00Z
round: 2
previous: 08.1-UAT.md
---

## Current Test
<!-- OVERWRITE each test - shows where we are -->

[testing complete]

## Tests

### 1. Tree Connector Lines and Count Position
expected: Parent categories show children with connector lines. Last child has L-shape (└) connector, middle children have T-shape (├). Lines are 2px width with visible color. Child count appears next to the parent name (not right-aligned).
result: issue
reported: "Better and seems to work as expected, but there is a gap between child rows that we don't want."
severity: cosmetic

### 2. Weight Icon Styling and Row Layout
expected: Weight icons use chevrons (not up/down arrows). Active weight shows outline variant with accent border/icon color (not solid background). Row layout order: name, count, spacer, weight strip, action buttons. Hover tooltips on all row buttons (rename, delete, hide).
result: issue
reported: "Better, but the buttons are still too large."
severity: cosmetic

### 3. Weight Strip Animation
expected: On desktop, hover over the weight area on a category row. The strip smoothly expands to reveal all 5 weight options — icons grow outward with a smooth max-width animation (not instant appear/disappear).
result: pass

### 4. Optimistic Weight Updates
expected: Click a different weight icon on any category. The icon updates instantly (no loading delay). If the backend fails, the change reverts and an error toast appears. No success toast (silent success by design).
result: issue
reported: "Much better, but the feeling is still that it takes almost half a second (noticeable at least) for the weights to update."
severity: minor

### 5. Drag-and-Drop Performance
expected: Drag a category — the drag is smooth and responsive, not laggy or stuttering. Row hover effects do not cause visible jank during drag. Self-drop (dropping a category back on itself) does nothing (no self-grouping bug).
result: issue
reported: "Drag is still not good and there are still visual bugs in several places. We probably need to change the library. We should test the dnd-kit/react but need to research the implementation properly first."
severity: blocker

### 6. Drag to Ungroup
expected: Drag a child category from inside a parent to the "Drop here to ungroup" zone below the tree. The category becomes ungrouped and appears at root level.
result: issue
reported: "Fail. It's not possible to ungroup via dnd"
severity: major

### 7. Search Filter Without Console Error
expected: Type in the "Filter categories" input. Tree filters correctly. No React console errors about useEffect array size changes. Drag handles disappear while search is active. Clear search — full tree returns with drag handles.
result: pass

### 8. Create New Category
expected: Click "Add Category" button. Enter a name and click Create. The new category appears immediately in the tree at root level. Enter a duplicate name — an error is shown. Toast messages confirm success/failure.
result: issue
reported: "Fail. It is still possible to create categories that have the same name as existing ones without getting an error toast. A duplicate is not created though. New categories appear instantly but no success-toast is shown."
severity: major

### 9. Rename Ungrouped Category
expected: Hover over an ungrouped category — pencil icon appears. Click it. Change the name and press Enter. The name updates in the tree (no "New" chip). Refresh — the name persists.
result: issue
reported: "Fail. No icons appear visually on hover, but they appear to exist on the row as it is possible to click them. Renaming works. However, space for these icons is reserved on all rows where it should not be. Icons should only appear on hover with a similar animation as the weight icons."
severity: major

### 10. Delete Parent Category (Split Group)
expected: Hover over a parent with children — click the trash/split icon. The parent category becomes ungrouped, children are also released to root level (all categories preserved, none deleted). Works with special characters in category names (e.g., AI/ML).
result: issue
reported: "Fail. There is only a delete button for the category (but it is not visible), so the top level category is completely deleted rather than the group being split."
severity: blocker

## Summary

total: 10
passed: 2
issues: 8
pending: 0
skipped: 0

## Gaps

- truth: "Vertical connector line between child rows is continuous with no gaps"
  status: failed
  reason: "User reported: Better and seems to work as expected, but there is a gap between child rows that we don't want."
  severity: cosmetic
  test: 1
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Parent delete action splits the group (parent becomes ungrouped, children released) rather than deleting the parent category"
  status: failed
  reason: "User reported: There is only a delete button (not visible), so the top level category is completely deleted rather than the group being split."
  severity: blocker
  test: 10
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Row action icons (rename, delete) appear on hover with animation and don't reserve space when hidden"
  status: failed
  reason: "User reported: No icons appear visually on hover but click targets exist. Space reserved on all rows. Icons should only appear on hover with similar animation as weight icons."
  severity: major
  test: 9
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Creating a duplicate category shows an error toast; creating a new category shows a success toast"
  status: failed
  reason: "User reported: Still possible to create categories with same name as existing ones without error toast. No success toast shown either. Duplicate is silently ignored (not created)."
  severity: major
  test: 8
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Dragging a child to the ungroup zone releases it to root level"
  status: failed
  reason: "User reported: Fail. It's not possible to ungroup via dnd"
  severity: major
  test: 6
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Drag-and-drop is smooth, responsive, and visually correct"
  status: failed
  reason: "User reported: Drag is still not good and there are still visual bugs in several places. Need to change library to @dnd-kit/react and research implementation properly first."
  severity: blocker
  test: 5
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Weight changes reflect instantly with zero perceptible delay"
  status: failed
  reason: "User reported: Much better, but the feeling is still that it takes almost half a second (noticeable at least) for the weights to update."
  severity: minor
  test: 4
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Weight preset buttons are compact and proportional to the row size"
  status: failed
  reason: "User reported: Better, but the buttons are still too large."
  severity: cosmetic
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""
