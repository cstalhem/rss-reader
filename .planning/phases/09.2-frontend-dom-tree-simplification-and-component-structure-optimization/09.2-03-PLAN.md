---
phase: 09.2-frontend-dom-tree-simplification-and-component-structure-optimization
plan: 03
type: execute
wave: 2
depends_on: ["09.2-01", "09.2-02"]
files_modified:
  - frontend/src/components/article/ScoreBadge.tsx
  - frontend/src/components/article/ArticleRow.tsx
  - frontend/src/components/article/ArticleList.tsx
  - frontend/src/components/layout/Sidebar.tsx
  - frontend/src/components/settings/CategoriesSection.tsx
  - frontend/src/components/settings/FeedsSection.tsx
  - frontend/src/components/settings/InterestsSection.tsx
autonomous: true
requirements: []
must_haves:
  truths:
    - "ScoreBadge renders no Tooltip wrapper -- uses aria-label instead"
    - "ArticleRow uses semantic <article> element"
    - "Settings sidebar uses semantic <nav> element"
    - "Article list uses semantic <section> element"
    - "No functional regressions in article display or settings UI"
  artifacts:
    - path: "frontend/src/components/article/ScoreBadge.tsx"
      provides: "Score badge with aria-label instead of Tooltip"
    - path: "frontend/src/components/article/ArticleRow.tsx"
      provides: "Article row with semantic <article> element"
  key_links:
    - from: "ScoreBadge.tsx"
      to: "ArticleRow.tsx"
      via: "rendered inside article row"
      pattern: "ScoreBadge"
---

<objective>
Clean up ScoreBadge Tooltip overhead and apply semantic HTML elements across the frontend.

Purpose: ScoreBadge currently wraps each badge in a Tooltip, adding ~2 DOM nodes per article row for redundant information (the score is already visible as text). Removing the Tooltip saves ~100 DOM nodes with 50 articles. The semantic HTML audit replaces generic divs with proper landmarks (`<article>`, `<nav>`, `<section>`) for better accessibility and screen reader navigation.

Output: ScoreBadge uses aria-label. Key components use semantic HTML elements. Build passes.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09.2-frontend-dom-tree-simplification-and-component-structure-optimization/09.2-CONTEXT.md
@.planning/phases/09.2-frontend-dom-tree-simplification-and-component-structure-optimization/09.2-RESEARCH.md
@.planning/phases/09.2-frontend-dom-tree-simplification-and-component-structure-optimization/09.2-01-SUMMARY.md
@frontend/src/components/article/ScoreBadge.tsx
@frontend/src/components/article/ArticleRow.tsx
@frontend/src/components/article/ArticleList.tsx
@frontend/src/components/layout/AppShell.tsx
@frontend/src/components/layout/Header.tsx
@frontend/src/components/layout/Sidebar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace ScoreBadge Tooltip with aria-label</name>
  <files>frontend/src/components/article/ScoreBadge.tsx</files>
  <action>
    1. Remove the `Tooltip` import from `@/components/ui/tooltip`.
    2. Remove the `<Tooltip content={...}>` wrapper around the Badge.
    3. Add `aria-label={`Score: ${scoreDisplay}`}` to the Badge element.
    4. The Badge renders `{scoreDisplay}` as visible text -- the tooltip was redundant since the score is already displayed. The aria-label provides the same accessibility information without extra DOM nodes.

    This saves ~2 DOM nodes per scored article row (Tooltip.Root + Tooltip.Trigger wrappers). With 50 articles, ~100 nodes saved.
  </action>
  <verify>
    Run `bun run build` from `frontend/` -- no errors.
    Verify Tooltip import is removed:
    ```
    grep "Tooltip" frontend/src/components/article/ScoreBadge.tsx
    ```
    Should return nothing.
  </verify>
  <done>ScoreBadge renders Badge with aria-label. No Tooltip wrapper. ~2 DOM nodes saved per article row.</done>
</task>

<task type="auto">
  <name>Task 2: Semantic HTML audit across frontend components</name>
  <files>
    frontend/src/components/article/ArticleRow.tsx
    frontend/src/components/article/ArticleList.tsx
    frontend/src/components/layout/Sidebar.tsx
    frontend/src/components/settings/CategoriesSection.tsx
    frontend/src/components/settings/FeedsSection.tsx
    frontend/src/components/settings/InterestsSection.tsx
  </files>
  <action>
    Apply semantic HTML elements using Chakra's `as` prop. The research confirmed these are zero-cost element swaps -- they change the rendered tag without affecting styling.

    **Already semantic (DO NOT TOUCH):**
    - AppShell.tsx: `Box as="main"` -- already correct
    - Header.tsx: `Box as="header"` -- already correct
    - Sidebar.tsx: Check current state -- may already use `as="aside"`
    - Settings layout.tsx (from Plan 01): sidebar wrapper should already have `as="nav"` per Plan 01 task

    **Changes to make:**

    1. **ArticleRow.tsx**: Change the outer `<Flex>` to `<Flex as="article">`. This is the main article row wrapper. Each article in the list becomes a semantic `<article>` element.

    2. **ArticleList.tsx**: Find the container wrapping the article rows (likely a `<Box>` or `<Flex>` containing the list). Add `as="section"` and `aria-label="Article list"` to it. If the container is just a mapping without a dedicated wrapper, leave as-is (don't add unnecessary wrappers just for semantics).

    3. **Sidebar.tsx**: If not already using `as="aside"`, change the outer Box to `<Box as="aside">`. Check the current markup first.

    4. **Settings section components** (CategoriesSection, FeedsSection, InterestsSection): Add `as="section"` to the outermost wrapper element if it is a generic Box/Stack. Add appropriate `aria-label` attributes (e.g., `aria-label="Feed management"`, `aria-label="Categories"`, `aria-label="Interests"`).

    **DO NOT change:**
    - Components not in the files list
    - Any styling, layout, or behavior
    - Any element that is already semantic
    - The OllamaSection or FeedbackPlaceholder (not in scope for this task)

    **Surgical approach**: Each change is a single prop addition (`as="article"`, `as="section"`, `as="aside"`). No structural changes. Match existing code style.
  </action>
  <verify>
    Run `bun run build` from `frontend/` -- no errors. Run `bun run lint` -- no lint errors.
    Verify semantic elements are present:
    ```
    grep 'as="article"' frontend/src/components/article/ArticleRow.tsx
    grep 'as="section"' frontend/src/components/article/ArticleList.tsx
    ```
  </verify>
  <done>Key components use semantic HTML elements: ArticleRow uses `<article>`, ArticleList uses `<section>`, Sidebar uses `<aside>`, settings sections use `<section>`. Build passes.</done>
</task>

</tasks>

<verification>
1. `bun run build` passes with zero errors
2. `bun run lint` passes
3. ScoreBadge has no Tooltip import or wrapper
4. ArticleRow renders as `<article>` element
5. No functional regressions
</verification>

<success_criteria>
ScoreBadge uses aria-label instead of Tooltip (~100 nodes saved with 50 articles). Semantic HTML elements applied across article list, sidebar, and settings sections. Build passes. No regressions.
</success_criteria>

<output>
After completion, create `.planning/phases/09.2-frontend-dom-tree-simplification-and-component-structure-optimization/09.2-03-SUMMARY.md`
</output>
